import { Font, ExtendedTable, Glyph } from "../type";

const lowercase = {
  a: [
    [
      [0.8, 0.5],
      [0.2, 0.5],
      [0.2, 0.7],
      [0.8, 0.7],
      [0.8, 0.3],
      [0.3, 0.3],
    ],
  ],
  b: [
    [
      [0.25, 0.1],
      [0.25, 0.7],
      [0.75, 0.7],
      [0.75, 0.3],
      [0.25, 0.3],
    ],
  ],
  c: [
    [
      [0.8, 0.3],
      [0.2, 0.3],
      [0.2, 0.7],
      [0.8, 0.7],
    ],
  ],
  d: [
    [
      [0.75, 0.1],
      [0.75, 0.7],
      [0.25, 0.7],
      [0.25, 0.3],
      [0.75, 0.3],
    ],
  ],
  e: [
    [
      [0.2, 0.5],
      [0.8, 0.5],
      [0.8, 0.3],
      [0.2, 0.3],
      [0.2, 0.7],
      [0.8, 0.7],
    ],
  ],
  f: [
    [
      [0.2, 0.5],
      [0.7, 0.5],
    ],
    [
      [0.4, 0.7],
      [0.4, 0.1],
      [0.7, 0.1],
    ],
  ],
  g: [
    [
      [0.75, 0.7],
      [0.25, 0.7],
      [0.25, 0.3],
      [0.75, 0.3],
      [0.75, 0.9],
      [0.5, 0.9],
    ],
  ],
  h: [
    [
      [0.25, 0.7],
      [0.25, 0.1],
    ],
    [
      [0.25, 0.3],
      [0.75, 0.3],
      [0.75, 0.7],
    ],
  ],
  i: [
    [
      [0.5, 0.1],
      [0.5, 0.15],
    ],
    [
      [0.5, 0.3],
      [0.5, 0.7],
    ],
  ],
  j: [
    [
      [0.6, 0.1],
      [0.6, 0.15],
    ],
    [
      [0.6, 0.3],
      [0.6, 0.9],
      [0.3, 0.9],
    ],
  ],
  k: [
    [
      [0.3, 0.7],
      [0.3, 0.1],
    ],
    [
      [0.8, 0.3],
      [0.3, 0.5],
      [0.8, 0.7],
    ],
  ],
  l: [
    [
      [0.4, 0.1],
      [0.5, 0.1],
      [0.5, 0.7],
      [0.6, 0.7],
    ],
  ],
  m: [
    [
      [0.2, 0.7],
      [0.2, 0.3],
      [0.8, 0.3],
      [0.8, 0.7],
    ],
    [
      [0.5, 0.3],
      [0.5, 0.7],
    ],
  ],
  n: [
    [
      [0.2, 0.7],
      [0.2, 0.3],
      [0.8, 0.3],
      [0.8, 0.7],
    ],
  ],
  o: [
    [
      [0.2, 0.7],
      [0.2, 0.3],
      [0.8, 0.3],
      [0.8, 0.7],
      [0.2, 0.7],
    ],
  ],
  p: [
    [
      [0.25, 0.9],
      [0.25, 0.3],
      [0.75, 0.3],
      [0.75, 0.7],
      [0.25, 0.7],
    ],
  ],
  q: [
    [
      [0.75, 0.9],
      [0.75, 0.3],
      [0.25, 0.3],
      [0.25, 0.7],
      [0.75, 0.7],
    ],
  ],
  r: [
    [
      [0.7, 0.3],
      [0.4, 0.3],
      [0.4, 0.7],
    ],
  ],
  s: [
    [
      [0.8, 0.3],
      [0.2, 0.3],
      [0.2, 0.5],
      [0.8, 0.5],
      [0.8, 0.7],
      [0.2, 0.7],
    ],
  ],
  t: [
    [
      [0.2, 0.3],
      [0.8, 0.3],
    ],
    [
      [0.35, 0.2],
      [0.35, 0.7],
      [0.65, 0.7],
    ],
  ],
  u: [
    [
      [0.2, 0.3],
      [0.2, 0.7],
      [0.8, 0.7],
      [0.8, 0.3],
    ],
  ],
  v: [
    [
      [0.2, 0.3],
      [0.5, 0.7],
      [0.8, 0.3],
    ],
  ],
  w: [
    [
      [0.2, 0.3],
      [0.2, 0.7],
      [0.8, 0.7],
      [0.8, 0.3],
    ],
    [
      [0.5, 0.3],
      [0.5, 0.7],
    ],
  ],
  x: [
    [
      [0.2, 0.3],
      [0.8, 0.7],
    ],
    [
      [0.8, 0.3],
      [0.2, 0.7],
    ],
  ],
  y: [
    [
      [0.25, 0.3],
      [0.25, 0.7],
      [0.75, 0.7],
    ],
    [
      [0.75, 0.3],
      [0.75, 0.9],
      [0.5, 0.9],
    ],
  ],
  z: [
    [
      [0.2, 0.3],
      [0.8, 0.3],
      [0.2, 0.7],
      [0.8, 0.7],
    ],
  ],
} as Font;

// Create diacritic
const accent = {
  // grave accent
  gr: [
    [
      [0.4, 0.1],
      [0.6, 0.15],
    ],
  ],
  // acute accent
  ct: [
    [
      [0.4, 0.15],
      [0.6, 0.1],
    ],
  ],
  // circumflex accent
  cr: [
    [
      [0.4, 0.15],
      [0.5, 0.1],
      [0.6, 0.15],
    ],
  ],
  // diaeresis
  dr: [
    [
      [0.4, 0.1],
      [0.4, 0.15],
    ],
    [
      [0.6, 0.1],
      [0.6, 0.15],
    ],
  ],
  // tild
  tl: [
    [
      [0.4, 0.15],
      [0.4, 0.1],
      [0.6, 0.15],
      [0.6, 0.1],
    ],
  ],
  // breve
  br: [
    [
      [0.4, 0.1],
      [0.4, 0.15],
      [0.6, 0.15],
      [0.6, 0.1],
    ],
  ],
  // haček or caron
  hc: [
    [
      [0.4, 0.1],
      [0.5, 0.15],
      [0.6, 0.1],
    ],
  ],
  // macron
  mc: [
    [
      [0.4, 0.1],
      [0.6, 0.1],
    ],
  ],
  // angstorm or circle or ring
  gs: [
    [
      [0.45, 0.15],
      [0.45, 0.1],
      [0.55, 0.1],
      [0.55, 0.2],
      [0.45, 0.15],
    ],
  ],
  // cedilla
  cd: [
    [
      [0.5, 0.7],
      [0.5, 0.75],
      [0.55, 0.75],
      [0.55, 0.8],
      [0.45, 0.8],
    ],
  ],
} as Font;

// Associate diacritics with existing glyph
const accentTable = {
  à: ["a", "gr"],
  á: ["a", "ct"],
  â: ["a", "cr"],
  ä: ["a", "dr"],
  ã: ["a", "tl"],
  ă: ["a", "br"],
  ǎ: ["a", "hc"],
  ā: ["a", "mc"],
  ć: ["c", "ct"],
  ĉ: ["c", "cr"],
  ç: ["c", "cd"],
} as ExtendedTable;

// Clone exisiting glyph and add diacritical marks
const accented = {} as Font;
Object.keys(accentTable).map((char) => {
  accented[char as keyof typeof accented] = [
    ...lowercase[accentTable[char][0] as keyof Font],
    ...accent[accentTable[char][1] as keyof ExtendedTable],
  ] as Glyph;
});

// Merge all glyphs and add some ligature
const extended = {
  ...lowercase,
  æ: [
    [
      [0.5, 0.3],
      [0.8, 0.3],
      [0.8, 0.5],
      [0.2, 0.5],
      [0.2, 0.7],
      [0.5, 0.7],
      [0.5, 0.3],
      [0.3, 0.3],
    ],
    [
      [0.5, 0.7],
      [0.8, 0.7],
    ],
  ],
  œ: [
    [
      [0.5, 0.3],
      [0.8, 0.3],
      [0.8, 0.5],
      [0.5, 0.5],
      [0.5, 0.3],
      [0.2, 0.3],
      [0.2, 0.7],
      [0.5, 0.7],
      [0.5, 0.5],
    ],
    [
      [0.5, 0.7],
      [0.8, 0.7],
    ],
  ],
  ...accented,
};
export default extended;
